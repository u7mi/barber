<!DOCTYPE html>
<html lang="ku" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù¾ÛØ´Ø¨Ú•Ú©ÛÛŒ Ø¯Û•Ù„Ø§Ú©Ø§Ù†ÛŒ Ú©ÙˆØ±Ø¯</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(to bottom, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 20px;
        }

        h1 {
            color: #ffffff;
            font-size: 3rem;
            margin-bottom: 15px;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
            font-weight: 700;
        }

        .subtitle {
            color: #ffd700;
            font-size: 1.5rem;
            margin-top: 10px;
            font-weight: 600;
        }

        .sponsor {
            background: linear-gradient(90deg, #ff6b6b, #ee5a6f);
            color: white;
            padding: 12px 30px;
            border-radius: 50px;
            display: inline-block;
            margin-top: 20px;
            font-weight: bold;
            font-size: 1.1rem;
            box-shadow: 0 8px 25px rgba(238, 90, 111, 0.4);
        }

        .voting-form {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .barbers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .barber-item {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            border: 3px solid transparent;
        }

        .barber-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        .barber-item.selected {
            border-color: #ffd700;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.6);
        }

        .barber-item input[type="radio"] {
            position: absolute;
            opacity: 0;
        }

        .barber-label {
            display: flex;
            flex-direction: column;
            cursor: pointer;
        }

        .barber-image-container {
            width: 120px;
            height: 120px;
            margin: 20px auto 0;
            overflow: hidden;
            background: #f0f0f0;
            position: relative;
            border-radius: 50%;
            border: 4px solid #e0e0e0;
        }

        .barber-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .barber-item:hover .barber-image {
            transform: scale(1.05);
        }

        .check-icon {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #ffd700;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            z-index: 10;
        }

        .barber-item.selected .check-icon {
            display: flex;
        }

        .barber-item.selected .barber-image-container {
            border-color: #ffd700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
        }

        .check-icon::after {
            content: 'âœ“';
            color: #1a1a2e;
            font-size: 20px;
            font-weight: bold;
        }

        .barber-name {
            padding: 15px 10px 20px;
            text-align: center;
            font-size: 1.1rem;
            font-weight: 600;
            color: #1a1a2e;
            background: white;
        }

        .note-section {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            padding: 25px 30px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(238, 90, 111, 0.3);
        }

        .note-title {
            color: #fff;
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .note-text {
            color: #fff;
            font-size: 1.05rem;
            line-height: 1.9;
        }

        .submit-section {
            text-align: center;
            margin-top: 30px;
        }

        .submit-btn {
            background: linear-gradient(90deg, #ffd700, #ffed4e);
            color: #1a1a2e;
            border: none;
            padding: 18px 60px;
            font-size: 1.4rem;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .submit-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.6);
        }

        .submit-btn:disabled {
            background: #555;
            color: #999;
            cursor: not-allowed;
            box-shadow: none;
        }

        .success-message {
            background: linear-gradient(90deg, #00b894, #00cec9);
            color: white;
            padding: 20px 30px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.3rem;
            margin: 20px auto;
            max-width: 600px;
            box-shadow: 0 10px 30px rgba(0, 184, 148, 0.4);
            display: none;
            font-weight: 600;
        }

        @media (max-width: 1024px) {
            .barbers-grid {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .subtitle {
                font-size: 1.2rem;
            }

            .barbers-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 15px;
            }

            .barber-image-container {
                width: 100px;
                height: 100px;
            }

            .barber-name {
                font-size: 1rem;
                padding: 12px 8px 15px;
            }

            .note-text {
                font-size: 0.95rem;
            }

            .voting-form {
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }

            h1 {
                font-size: 1.5rem;
            }

            header {
                padding: 20px 10px;
            }

            .barbers-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .submit-btn {
                padding: 15px 40px;
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ”¥ Ù¾ÛØ´Ø¨Ú•Ú©ÛÛŒ Ø¯Û•Ù„Ø§Ú©Ø§Ù†ÛŒ Ú©ÙˆØ±Ø¯Ø³ØªØ§Ù† ğŸ”¥</h1>
            <p class="subtitle">Ø¨Ø§Ø´ØªØ±ÛŒÙ† Ø¯Û•Ù„Ø§Ú© Ø¨Û† Ø³Ø§ÚµÛŒ Ù¢Ù Ù¢Ù¥ Ù‡Û•ÚµØ¨Ú˜ÛØ±Û•</p>
            <div class="sponsor">Sponsored by Vjr Brand</div>
            <p class="subtitle">Ù„Û• Ø¨Û•Ø±ÙˆØ§Ø±ÛŒ 2026/1/5 Ø³Û•Ø±Ú˜Ù…ÛØ±ÛŒ Ø¨ÚµØ§ÙˆØ¯Û•Ú©Ø±ÛŒØªÛ•ÙˆÛ•</p>
        </header>

        <div class="voting-form">
            <div class="barbers-grid" id="barbersGrid">
                <!-- Barber items will be generated here -->
            </div>

            <div class="success-message" id="successMessage">
                âœ… Ø³ÙˆÙ¾Ø§Ø³! Ø¯Û•Ù†Ú¯Û•Ú©Û•Øª Ø¨Û• Ø³Û•Ø±Ú©Û•ÙˆØªÙˆÙˆÛŒÛŒ ØªÛ†Ù…Ø§Ø±Ú©Ø±Ø§
            </div>

            <div class="submit-section">
                <button class="submit-btn" id="submitBtn" disabled>Ø¯Û•Ù†Ú¯Ø¯Ø§Ù†</button>
            </div>
        </div>

        <div class="note-section">
            <div class="note-title">ØªÛØ¨ÛŒÙ†ÛŒ:</div>
            <div class="note-text">
                Ø¯Û•Ù„Ø§Ú©ÛŒ Ú©ÙˆØ±Ø¯ Ù¾ÛÙˆÛŒØ³ØªÛŒ Ø¨Û• Ù¾ÛØ´Ø¨Ú•Ú©Û Ù†ÛŒÛ• Ù‡Û•Ù…ÛŒØ´Û• ÛŒÛ•Ú©Û•Ù…Û•Ú©Ø§Ù†ÛŒ Ø¬ÛŒÙ‡Ø§Ù†Ù† Ø¨Û•ÚµØ§Ù… Ø¦Û•Ù… Ù¾ÛØ´Ø¨Ú•Ú©ÛÛŒÛ• ØªØ§ÛŒØ¨Û•ØªÛ• Ø¨Û• Ø¯Û•Ù„Ø§Ú©Û• Ú©ÙˆØ±Ø¯Û•Ú©Ø§Ù†. Ù‡Û•ÚµØ¨Ú˜Ø§Ø±Ø¯Ù†ÛŒ Ø¯Û•Ù„Ø§Ú©Û•Ú©Ø§Ù†ÛŒØ´ Ø¨Û•Ù¾ÛÛŒ Ø¦Û•Ø²Ù…ÙˆÙ† Ùˆ Ù†Ø§ÙˆØ¨Ø§Ù†Ú¯ÛŒ Ø¯Û•Ù„Ø§Ú©Û•Ú©Û•ÛŒÛ• Ù„Û• Ù‡Û•Ø± Ø´Ø§Ø±ÛÚ©ÛŒ Ú©ÙˆØ±Ø¯Ø³ØªØ§Ù† Ø¨ÛØª. Ø¦Û•Ù… Ø³Ø§ÛŒØªÛ• Ù„Û•Ù„Ø§ÛŒÛ•Ù† Ø³Ù¾Û†Ù†Ø³Û•Ø±ÛŒ Ø¨Ú•Ø§Ù†Ø¯ÛŒ Vjr Ø¨Û•Ú•ÛÙˆÛ• Ø¯Û•Ø¨Ø±ÛØª. Ø¨Ø±Ø§ÙˆÛ• Ø¯Û•Ø¨ÛØªÛ• Ø®Ø§ÙˆÛ•Ù† Ø®Û•ÚµØ§ØªÛŒ Ø¨Û•Ù†Ø±Ø®.
            </div>
        </div>
    </div>

    <script>
        const barbers = [
            { id: 1, name: 'mira.barber', image: 'https://raw.githubusercontent.com/6y6qa/volting/refs/heads/main/7334533090053718034%7Etplv-tiktokx-cropcenter_1080_1080.jpeg' },
            { id: 2, name: 'hawzhin_brand', image: 'https://github.com/6y6qa/volting/blob/main/a9c87d048e20a81e0e7d853e411ccd8b~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 3, name: 'karai_dalakk', image: 'https://github.com/6y6qa/volting/blob/main/cfbd67a5ddc60c2ef7eae30e2d60b4e7~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 4, name: 'nima_haircut', image: 'https://github.com/6y6qa/volting/blob/main/7332766701900103685~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 5, name: 'Karsaz Barber', image: 'https://github.com/6y6qa/volting/blob/main/d4883d8732e5670414f57369789871a4~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 6, name: 'Aumid Style', image: 'https://github.com/6y6qa/volting/blob/main/d3d8132ad44206e1bfeee557a798a52c~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 7, name: 'halo_dalak1', image: 'https://github.com/6y6qa/volting/blob/main/e783187429ac3fd095bbb46c4a59d3b6~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 8, name: 'makocutz', image: 'https://github.com/6y6qa/volting/blob/main/888cee5a5adab1ee9d6c92c639533c90~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 9, name: 'hamay.haircutt', image: 'https://github.com/6y6qa/volting/blob/main/ca1a9971bfd705a5edb0c7d243f182f3~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 10, name: 'zanyar_dalak', image: 'https://github.com/6y6qa/volting/blob/main/c6abe67159fd9eeca1e8ab844d93ec31~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 11, name: 'Hiwa dalak', image: 'https://github.com/6y6qa/volting/blob/main/0d41a383218ce0c981406b1d39e81dc8~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 12, name: 'Arin-dalak', image: 'https://github.com/6y6qa/volting/blob/main/a592ef3b4700fa21731ae50d083724cc~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 13, name: 'bawan_dalak', image: 'https://github.com/6y6qa/volting/blob/main/207f625cb423cbc0e9b7027a8c81c6e9~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 14, name: 'sarkar barber', image: 'https://github.com/6y6qa/volting/blob/main/dae081653141a50991147c6d4bb89421~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 15, name: 'Kawan Barber', image: 'https://github.com/6y6qa/volting/blob/main/3b0db34f3c178dc0e62b77e1b63448d3~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 16, name: 'shameran_barber', image: 'https://github.com/6y6qa/volting/blob/main/49ddc5ceab0e813da52951c158e2a2f9~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 17, name: 'Hoshdar Barber', image: 'https://github.com/6y6qa/volting/blob/main/4ee7df7915239289050591225fc6d7ad~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 18, name: 'Rebaz Barber', image: 'https://github.com/6y6qa/volting/blob/main/84cf698f0f2a950ff98d1dfc36598fed~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 19, name: 'Sultan Style', image: 'https://github.com/6y6qa/volting/blob/main/82f54e561f2cd6efe8a2aaf2f2a3f6d8~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 20, name: 'psha_almany', image: 'https://github.com/6y6qa/volting/blob/main/5c7f5150ce1974b5310e67c604a7a81d~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 21, name: 'Reka style', image: 'https://github.com/6y6qa/volting/blob/main/3dc90c2939875a120939340a5f046dbe~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 22, name: 'saro_style', image: 'https://github.com/6y6qa/volting/blob/main/7c10ffc12e8a27e76f547140e36423f4~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 23, name: 'alay haji', image: 'https://github.com/6y6qa/volting/blob/main/928a7694c5364e8be5db7f2b23edfb3f~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 24, name: 'Zhila Barber', image: 'https://github.com/6y6qa/volting/blob/main/36e958d80730b44515669b462f7bd168~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 25, name: 'azmir_cutz', image: 'https://github.com/6y6qa/volting/blob/main/552cf0498b529f3777d7a21456c3d657~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 26, name: 'Yad Dalak', image: 'https://github.com/6y6qa/volting/blob/main/698e267ea29616581d2a1964a92ac268~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 27, name: 'nawabarber', image: 'https://github.com/6y6qa/volting/blob/main/c67219486a230c91a8301f8a67a063a4~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 28, name: 'Shako cutz', image: 'https://github.com/6y6qa/volting/blob/main/94c9361145c21e1ca870bafb900cd36e~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 29, name: 'Paiay rash', image: 'https://github.com/6y6qa/volting/blob/main/f21c9e0189812125cbfc8c6f98eabb1e~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 30, name: 'Arsh Style', image: 'https://github.com/6y6qa/volting/blob/main/0c96945714ec5ba235db98520aeda981~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 31, name: 'Hamo Styli', image: 'https://github.com/6y6qa/volting/blob/main/ba59a521ea96b74539561a7805e025c8~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 32, name: 'barez halaq', image: 'https://github.com/6y6qa/volting/blob/main/a222dd507febe69fc7390aaa3f8a00ef~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 33, name: 'mamad_halaq', image: 'https://github.com/6y6qa/volting/blob/main/e152f3ec52a31e326e20dab56d7b9a4e~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 34, name: 'Rastgo barber', image: 'https://github.com/6y6qa/volting/blob/main/41ce743480c7c61eff4927ca93003c5d~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 35, name: 'kozhaa', image: 'https://github.com/6y6qa/volting/blob/main/ab0ac9e26055f4ae0e3fff86c787f7aa~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 36, name: 'Aland Hadi', image: 'https://github.com/6y6qa/volting/blob/main/d044519360c5ec8f0dd291ec7a7d5643~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 37, name: 'ashkan style', image: 'https://github.com/6y6qa/volting/blob/main/ff3dafb54bc2ae0fdb809e86eb0c371d~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 38, name: 'Bukhary Ismail', image: 'https://github.com/6y6qa/volting/blob/main/fb84001db4a078541e589d3ee9e24cad~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 39, name: 'kosar oldbarber', image: 'https://github.com/6y6qa/volting/blob/main/48326dfb001bbdc631e8736f2836186a~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=truee' },
            { id: 40, name: 'roma center', image: 'https://github.com/6y6qa/volting/blob/main/dfe56c541c252dd3bb75eeef24f1648a~tplv-tiktokx-cropcenter_1080_1080.jpeg?raw=true' },
            { id: 41, name: 'shadoo barber', image: 'https://github.com/6y6qa/volting/blob/main/458741581_434254289651526_7609368880645781196_n.jpg?raw=true' }
        ];

        function renderBarbers() {
            const grid = document.getElementById('barbersGrid');
            grid.innerHTML = barbers.map(barber => `
                <div class="barber-item" data-id="${barber.id}">
                    <input type="radio" name="barber" id="barber${barber.id}" value="${barber.id}">
                    <label for="barber${barber.id}" class="barber-label">
                        <div class="barber-image-container">
                            <img src="${barber.image}" alt="${barber.name}" class="barber-image">
                            <div class="check-icon"></div>
                        </div>
                        <div class="barber-name">${barber.name}</div>
                    </label>
                </div>
            `).join('');

            document.querySelectorAll('input[name="barber"]').forEach(radio => {
                radio.addEventListener('change', handleSelection);
            });
        }

        function handleSelection(e) {
            document.querySelectorAll('.barber-item').forEach(item => {
                item.classList.remove('selected');
            });
            
            const selectedItem = e.target.closest('.barber-item');
            selectedItem.classList.add('selected');
            
            document.getElementById('submitBtn').disabled = false;
        }
        function getVoterId() {
            let id = localStorage.getItem('voter_id')
            if (!id) {
                id = crypto.randomUUID()
                localStorage.setItem('voter_id', id)
            }
            return id
        }
        document.getElementById('submitBtn').addEventListener('click', async function () {
            const selectedRadio = document.querySelector('input[name="barber"]:checked')
            if (!selectedRadio) return

            const barber = barbers.find(b => b.id === parseInt(selectedRadio.value))
            const voter_id = getVoterId()

            const res = await fetch('/.netlify/functions/vote', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    voter_id,
                    barber_id: barber.id,
                    barber_name: barber.name
                })
            })

            if (res.status === 403) {
                alert('âŒ ØªÛ† Ù¾ÛØ´ØªØ± Ø¯Û•Ù†Ú¯Øª Ø¯Ø§ÙˆÛ•')
                return
            }
            if (res.ok) {
                const successMsg = document.getElementById('successMessage')
                successMsg.style.display = 'block'
                successMsg.innerHTML = `âœ… Ø³ÙˆÙ¾Ø§Ø³! Ø¯Û•Ù†Ú¯Û•Ú©Û•Øª Ø¨Û† ${barber.name} ØªÛ†Ù…Ø§Ø±Ú©Ø±Ø§`

                document.getElementById('submitBtn').disabled = true
            }
        })

        renderBarbers();
    </script>
</body>
</html>